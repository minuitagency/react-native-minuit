{"version":3,"names":["React","useState","useRef","Image","StyleSheet","Modal","responsiveHeight","PlacesInput","MapView","Marker","Fonts","Palette","Style","Button","DismissKeyboard","formatCoordinates","animateToCoordinates","apiKeyGooglePlaces","AddressSelection","visible","setIsVisible","coordinates","setCoordinates","newCoordinates","setNewCoordinates","mapRef","flex","absoluteFill","latitude","longitude","latitudeDelta","longitudeDelta","position","top","right","left","borderRadius","address","height","width","tintColor","primary","require","returnKeyType","autoFocus","regular","black","inputData","geometry","location","lat","lng","formatted_address","result","con","pos","b","r","l","w","backgroundColor","gray2","bold","white"],"sources":["AddressSelection.js"],"sourcesContent":["import React, { useState, useRef } from 'reactn';\nimport { Image, StyleSheet, Modal } from 'react-native';\nimport { responsiveHeight } from 'react-native-responsive-dimensions';\nimport PlacesInput from 'react-native-places-input';\nimport MapView, { Marker } from 'react-native-maps';\n\nimport { Fonts, Palette, Style } from 'styles';\nimport { Button, DismissKeyboard } from 'components';\n\nimport {\n  formatCoordinates,\n  animateToCoordinates,\n} from '../../actions/locationActions';\n\nimport { apiKeyGooglePlaces } from '../config/config';\n\nexport default function AddressSelection({\n  visible = false,\n  setIsVisible = () => null,\n\n  coordinates = null,\n  setCoordinates,\n}) {\n  const [newCoordinates, setNewCoordinates] = useState(coordinates || null);\n\n  const mapRef = useRef();\n\n  return (\n    <Modal\n      presentationStyle={'formSheet'}\n      animationType=\"slide\"\n      visible={visible}\n      onRequestClose={() => {\n        setIsVisible(false);\n      }}\n      style={{ flex: 1 }}\n    >\n      <DismissKeyboard>\n        <MapView\n          ref={mapRef}\n          rotateEnabled={false}\n          style={{\n            flex: 1,\n            ...StyleSheet.absoluteFill,\n          }}\n          region={{\n            latitude: 44.853057263793794,\n            longitude: -0.5679415038745691,\n            latitudeDelta: 10,\n            longitudeDelta: 10,\n          }}\n        >\n          {newCoordinates && (\n            <Marker\n              coordinate={{\n                latitude: newCoordinates?.coordinates?.latitude || 0,\n                longitude: newCoordinates?.coordinates?.longitude || 0,\n              }}\n            />\n          )}\n        </MapView>\n\n        <PlacesInput\n          stylesContainer={{\n            position: 'absolute',\n            top: responsiveHeight(5),\n            right: 24,\n            left: 24,\n          }}\n          stylesInput={{ borderRadius: 10 }}\n          clearQueryOnSelect\n          placeHolder={\n            newCoordinates?.address || \"Quelle est l'adresse de l'évènement?\"\n          }\n          iconInput={\n            <Image\n              style={{\n                height: 20,\n                width: 30,\n                tintColor: Palette.primary,\n              }}\n              resizeMode=\"contain\"\n              source={require('../assets/icons/focusLocation.png')}\n            />\n          }\n          textInputProps={{\n            returnKeyType: 'done',\n            autoFocus: true,\n            ...Fonts.primary.regular(14, Palette.black),\n          }}\n          googleApiKey={apiKeyGooglePlaces}\n          queryFields={'formatted_address,geometry,name,address_components'}\n          onSelect={(inputData) => {\n            const {\n              geometry: {\n                location: { lat: latitude, lng: longitude },\n              },\n              formatted_address: address,\n            } = inputData.result;\n\n            setNewCoordinates(\n              formatCoordinates({\n                latitude,\n                longitude,\n                address,\n              })\n            );\n\n            animateToCoordinates({\n              coordinates: { latitude, longitude },\n              mapRef,\n            });\n          }}\n          language={'fr-FR'}\n        />\n\n        <Button\n          onPress={() => {\n            if (newCoordinates) {\n              setCoordinates(newCoordinates);\n            }\n\n            setIsVisible(false);\n          }}\n          value=\"Valider l'adresse\"\n          containerStyle={[\n            Style.con({ pos: 'absolute', b: 145, r: 24, l: 24, w: 'auto' }),\n          ]}\n        />\n\n        <Button\n          onPress={() => setIsVisible(false)}\n          value=\"Annuler\"\n          containerStyle={Style.con({\n            pos: 'absolute',\n            b: 90,\n            r: 24,\n            l: 24,\n            w: 'auto',\n          })}\n          style={{ backgroundColor: Palette.gray2 }}\n          textStyle={Fonts.primary.bold(16, Palette.white)}\n        />\n      </DismissKeyboard>\n    </Modal>\n  );\n}\n"],"mappings":"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"}