{"version":3,"names":["React","useEffect","useGlobal","Animated","StyleSheet","useRef","useState","LoadingSpinner","children","isGlobalLoading","renderLoading","setRenderLoading","loadingAnimatedValue","Value","current","anim","timing","toValue","duration","useNativeDriver","start","finished","stop","alignItems","justifyContent","opacity","absoluteFillObject","backgroundColor"],"sources":["LoadingProvider.js"],"sourcesContent":["import React, { useEffect, useGlobal } from 'reactn';\nimport { Animated, StyleSheet } from 'react-native';\n\nimport { useRef, useState } from 'react';\nimport LoadingSpinner from '../components/LoadingSpinner';\n\nexport default ({ children }) => {\n  const [isGlobalLoading] = useGlobal('_isLoading');\n\n  const [renderLoading, setRenderLoading] = useState(false);\n\n  const loadingAnimatedValue = useRef(new Animated.Value(0)).current;\n\n  useEffect(() => {\n    setRenderLoading(true);\n\n    if (!isGlobalLoading) {\n      return;\n    }\n\n    const anim = Animated.timing(loadingAnimatedValue, {\n      toValue: isGlobalLoading ? 1 : 0,\n      duration: 200,\n      useNativeDriver: true,\n    });\n\n    anim.start(({ finished }) => {\n      if (finished && !isGlobalLoading) {\n        setRenderLoading(false);\n      }\n    });\n\n    return anim.stop;\n  }, [isGlobalLoading]);\n\n  return (\n    <>\n      {children}\n\n      {renderLoading && isGlobalLoading && (\n        <Animated.View\n          style={{\n            alignItems: 'center',\n            justifyContent: 'center',\n            opacity: loadingAnimatedValue,\n            ...StyleSheet.absoluteFillObject,\n            backgroundColor: 'rgba(0,0,0,0.7)',\n          }}\n        >\n          <LoadingSpinner />\n        </Animated.View>\n      )}\n    </>\n  );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,QAA4C,QAA5C;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,cAArC;AAEA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AAEA,gBAAe,QAAkB;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC/B,MAAM,CAACC,eAAD,IAAoBP,SAAS,CAAC,YAAD,CAAnC;EAEA,MAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCL,QAAQ,CAAC,KAAD,CAAlD;EAEA,MAAMM,oBAAoB,GAAGP,MAAM,CAAC,IAAIF,QAAQ,CAACU,KAAb,CAAmB,CAAnB,CAAD,CAAN,CAA8BC,OAA3D;EAEAb,SAAS,CAAC,MAAM;IACdU,gBAAgB,CAAC,IAAD,CAAhB;;IAEA,IAAI,CAACF,eAAL,EAAsB;MACpB;IACD;;IAED,MAAMM,IAAI,GAAGZ,QAAQ,CAACa,MAAT,CAAgBJ,oBAAhB,EAAsC;MACjDK,OAAO,EAAER,eAAe,GAAG,CAAH,GAAO,CADkB;MAEjDS,QAAQ,EAAE,GAFuC;MAGjDC,eAAe,EAAE;IAHgC,CAAtC,CAAb;IAMAJ,IAAI,CAACK,KAAL,CAAW,SAAkB;MAAA,IAAjB;QAAEC;MAAF,CAAiB;;MAC3B,IAAIA,QAAQ,IAAI,CAACZ,eAAjB,EAAkC;QAChCE,gBAAgB,CAAC,KAAD,CAAhB;MACD;IACF,CAJD;IAMA,OAAOI,IAAI,CAACO,IAAZ;EACD,CApBQ,EAoBN,CAACb,eAAD,CApBM,CAAT;EAsBA,oBACE,0CACGD,QADH,EAGGE,aAAa,IAAID,eAAjB,iBACC,oBAAC,QAAD,CAAU,IAAV;IACE,KAAK,EAAE;MACLc,UAAU,EAAE,QADP;MAELC,cAAc,EAAE,QAFX;MAGLC,OAAO,EAAEb,oBAHJ;MAIL,GAAGR,UAAU,CAACsB,kBAJT;MAKLC,eAAe,EAAE;IALZ;EADT,gBASE,oBAAC,cAAD,OATF,CAJJ,CADF;AAmBD,CAhDD"}